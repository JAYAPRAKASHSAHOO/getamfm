<div data-role="page" id="TimeCardWO" class="custScrolling">
    <script type="text/javascript">
        var timeCardWO_PageID = "TimeCardWO";
        var timeCardWO_Page = $("#" + timeCardWO_PageID);
        var timeCardWO_Fields = [];
        var timeCardWO_Entry = [];
        var timeCardWO_WorkOrder = [];
        var timeCardWO_EntryTemplate = null;
        var timeCardWO_DeleteIndex = null;
        var timeCardWO_NumMin = 0;
        var timeCardWO_NumMax = 99999.99;
        var timeCardWO_PostWOButtonEnabled = true;
        var timeCardWO_DeleteButtonVisible = true;
        var timeCardWO_DeleteButtonEnabled = true;

        var timeCardWO_FieldsSecurity = new Object();
        timeCardWO_FieldsSecurity.ArrivalTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.DepartureTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.CompletedToggleEnabled = true;
        timeCardWO_FieldsSecurity.CompletedCommentTextAreaEnabled = true;
        timeCardWO_FieldsSecurity.MilesTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.RegularHoursTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.RegularDriveTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.SpecialHoursTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.SpecialDriveTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.OverTimeHoursTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.OverTimeDriveTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.PremiumHoursTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.PremiumDriveTextBoxEnabled = true;
        timeCardWO_FieldsSecurity.ResolutionCodeDropDownEnabled = true;

        var timeCardWO_EntryCollapsible = timeCardWO_Page.find("#TimeCardWO_EntryCollapsible");
        var timeCardWO_EntryDiv = timeCardWO_Page.find("#TimeCardWO_EntryDiv");
        var timeCardWO_EditDiv = timeCardWO_Page.find("#TimeCardWO_EditDiv");
        var timeCardWO_PostWOButton = timeCardWO_Page.find("#TimeCardWO_PostWOButton");
        var timeCardWO_EditHeaderLabel = timeCardWO_Page.find("#TimeCardWO_EditHeaderLabel");
        var timeCardWO_IndexHidden = timeCardWO_Page.find("#TimeCardWO_IndexHidden");
        var timeCardWO_WorkOrderNumberSearchTextBox = timeCardWO_Page.find("#TimeCardWO_WorkOrderNumberSearchTextBox");
        var timeCardWO_WorkOrderNumberDropDown = timeCardWO_Page.find("#TimeCardWO_WorkOrderNumberDropDown");
        var timeCardWO_WorkOrderSearchButton = timeCardWO_Page.find("#WorkOrderSearchButton");
        var timeCardWO_UserNameDropDown = timeCardWO_Page.find("#TimeCardWO_UserNameDropDown");
        var timeCardWO_UserNameDiv = timeCardWO_Page.find("#timeCardWO_UserNameDiv");

        var timeCardWO_PriorityValueLabel;
        var timeCardWO_WODetailNumberValueLabel;
        var timeCardWO_BillableToggle;
        var timeCardWO_StatusValueLabel;
        var timeCardWO_ProblemDescriptionValueLabel;
        var timeCardWO_ResCodeDropDown;
        var timeCardWO_ResolutionCodeMandatoryLabel;
        var timeCardWO_ArrivalTextBox;
        var timeCardWO_ArrivalLink;
        var timeCardWO_DepartureTextBox;
        var timeCardWO_DepartureLink;
        var timeCardWO_MilesTextBox;
        var timeCardWO_RegHrsTextBox;
        var timeCardWO_RegDrvTextBox;
        var timeCardWO_OTHrsTextBox;
        var timeCardWO_OTDrvTextBox;
        var timeCardWO_PremHrsTextBox;
        var timeCardWO_PremDrvTextBox;
        var timeCardWO_SpecHrsTextBox;
        var timeCardWO_SpecDrvTextBox;
        var timeCardWO_CompletedToggle;
        var timeCardWO_CompletedCommentTextArea;
        var timeCardWO_CompletedCommentMandatoryLabel;
        var timeCardWO_RequiredTextBoxValidation;
        var timeCardWO_RequiredDropDownValidation;
        var timeCardWO_InvalidDate1Translation;
        var timeCardWO_InvalidDate2Translation;
        var timeCardWO_InvalidDate3Translation;
        var timeCardWO_InvalidWeekTranslation;
        var timeCardWO_MustNumberTranslation;
        var timeCardWO_DateGreaterTranslation;
        var timeCardWO_NumberRange1Translation;
        var timeCardWO_NumberRange2Translation;

        var timeCardWO_IsEntryVisible = true;
        var timeCardWO_IsCreateMode = false;
        var timeCardWO_IsSourceWO = false;

        var timeCardWO_NoEntryTranslation;
        var timeCardWO_AddHeaderTranslation;
        var timeCardWO_EditHeaderTranslation;
        var timeCardWO_PriorityTranslation;
        var timeCardWO_DetailNumberTranslation;
        var timeCardWO_BillableTranslation;
        var timeCardWO_StatusTranslation;
        var timeCardWO_ProblemDescriptionTranslation;
        var timeCardWO_ResolutionCodeTranslation;
        var timeCardWO_ArrivalTranslation;
        var timeCardWO_DepartureTranslation;
        var timeCardWO_MilesTranslation;
        var timeCardWO_HoursTableHeaderTranslation;
        var timeCardWO_DriveTableHeaderTranslation;
        var timeCardWO_RegularTranslation;
        var timeCardWO_OverTimeTranslation;
        var timeCardWO_PremiumTranslation;
        var timeCardWO_SpecialTranslation;
        var timeCardWO_CompletedTranslation;
        var timeCardWO_CommentsTranslation;
        var timeCardWO_ActionFailedTranslation;
        var timeCardWO_NotApplicableTranslation;
        var timeCardWO_DropDownSelectTranslation;
        var timeCardWO_TimeCardOverlapTranslation;
        var timeCardWO_NoNetworkTranslation;
        var timeCardWO_CompletionMonthWarningTranslation;
        var timeCardWO_CompletionMonthPreventionTranslation;
        var timeCardWO_JobStepsPendingTranslation;
        var timeCardWO_InspectionPendingTranslation;
        var timeCardWO_YesTranslation;
        var timeCardWO_NoTranslation;
        var userNameemployeeNumber;

        timeCardWO_Page.on("pagecreate", function () {
            var source = getLocal("TimeCard_WorkOrderSource");
            switch (source) {
                case "TimeCardEntry":
                    timeCardWO_IsSourceWO = false;
                    timeCardWO_IsCreateMode = true;
                    break;
                case "ActionsPopup":
                case "LaborEntryEdit":
                case "DailyViewEntryEdit":
                    timeCardWO_IsSourceWO = true;
                    timeCardWO_IsCreateMode = true;
                    break;
                case "TimeCardSummary":
                    timeCardWO_IsSourceWO = false;
                    timeCardWO_IsCreateMode = false;
                    timeCardWO_EntryDiv.show();
                    break;
            }
            //            if (!IsStringNullOrEmpty(source) && (source == "TimeCardEntry" || source == "ActionsPopup")) {
            //                timeCardWO_IsCreateMode = true;
            //            }
            //            else {
            //                timeCardWO_IsCreateMode = false;
            //                timeCardWO_EntryDiv.show();
            //            }
            BindFormPopups(timeCardWO_PageID);
        });

        timeCardWO_Page.on("pagebeforeshow", function () {
            hideShowSync();
        });

        timeCardWO_Page.on("pageshow", function () {
            // Hide or show the settings icon
            configureSettingsButton("settingsIconTimeCardWO");

			updateBreadcrumb(this.id);
            addPanel();
            CheckingPendingData();
            showActionPopupLoading();
            $.GetOnlineSecuritySubTokens(400029, 3, TimeCardWOPageSecurity);
        });

        timeCardWO_Page.on('swiperight', function () {
            if (!timeCardWO_IsCreateMode && !timeCardWO_IsEntryVisible) {
                timeCardWO_EntryCollapsible.children().trigger("collapse");
                TimeCardWO_ShowEntries();
            }
        });        
    </script>
    <div data-role="header" class="page-header" data-position="fixed" style="top: 0px!important" data-tap-toggle="false">
        <div data-role="controlgroup" data-type="horizontal" class="ui-btn-left min-margin-top margin-left">
            <a href="#" data-role="button" data-icon="bars" onclick="ShowMenuItems();" data-iconpos="notext">
            </a><a id="A1" href="#" data-role="button" data-icon="arrow-l" onclick="navigateToPreviousPage();"
                data-iconpos="notext"></a>
        </div>
        <a href="#" onclick="NavigateToWorkOrderPage(this.name)" id="shortcut400039" data-role="button" data-iconpos="notext" name="400039" class="shortcut shortcut-controlgroup-left shortcut-margin-top ui-btn-left" >Scan</a>
        <a href="#" data-role="button" id = "settingsIconTimeCardWO" data-icon="gear" data-iconpos="notext" onclick="LoginSettings_OpenPopUp();"
                    class="min-margin-top margin-right ui-btn-right"></a>
        <span class="ui-title"></span>
    </div>
    <div id="ContentDiv" data-role="content" class="content-container">
        <p class="page-heading">
            <label id="TimeCardWO_HeaderLabel">
            </label>
        </p>
        <p class="sub-header">
            <label id="TimeCardWO_SubHeaderLabel">
            </label>
        </p>
        <div class="ui-grid-a">
            <div id="TimeCardWO_EntryDiv" class="ui-block-a" style="width: 100%; position: absolute;
                display: none;">
                <a data-role="button" id="TimeCardWO_PostWOButton" class="ui-disabled" style="width: 97%"
                    data-theme="a" onclick="TimeCardWO_ConfirmPostWO();" data-inline="true"></a>
                <div id="TimeCardWO_EntryCollapsible" data-role="collapsible-set" class="data-list inspection-list">
                </div>
            </div>
            <div id="TimeCardWO_EditDiv" class="ui-block-b" style="width: 100%; position: absolute;
                display: none;">
                <input type="hidden" id="TimeCardWO_IndexHidden" />

                <p class="sub-header">
                    <strong>
                        <label id="TimeCardWO_EditHeaderLabel">
                        </label>
                    </strong>
                </p>
                <div id="TimeCardWO_WOSearchDiv">
                    <div class="search-panel">
                <ul data-role="listview" data-inset="true" class="SearchOrderUl">
                    <li>

                            <div>
                    <div class="ui-grid-b">

                        <div class="ui-block-b" style="width: 85%;">
                            <input id="TimeCardWO_WorkOrderNumberSearchTextBox" maxlength="10" type="text" />
                        </div>
                        <div class="ui-block-c" style="width: 8%; margin-top: 3%; margin-left: 2%">
                            <img onclick="TimeCardWO_WorkOrderSearch();" id="WorkOrderSearchButton" class="img-search" />
                        </div>
                    </div>
                                <div class="ui-grid-b">
                                    <div class="ui-block-a" style="width: 2%;">
                                        <label id="TimeCardWO_WorkOrderNumberMandatoryLabel" style="color: Red;">
                                    *</label>
                                    </div>
                                    <div class="ui-block-b" style="width:98%;">
                    <select id="TimeCardWO_WorkOrderNumberDropDown" onchange="TimeCardWO_WorkOrderNumberSelected();">
                        <option></option>
                    </select>
                </div>
                                </div>
                            </div>
                    </li>
                </ul>
                    </div>
                </div>
                <div id="TimeCardWO_UserNameDiv">
                    <select id="TimeCardWO_UserNameDropDown" onchange="TimeCardWO_UserNameChanged();">
                        <option></option>
                    </select>
                </div>
                <div id="TimeCardWO_WOFieldsDiv">
                </div>
                <a data-role="button" id="TimeCardWO_SaveButton" data-theme="b" onclick="TimeCardWO_Save();"
                    data-inline="true" data-inline='true' style="width: 45%"></a><a data-role="button"
                        id="TimeCardWO_ResetButton" data-theme="b" onclick="TimeCardWO_Reset();" data-inline="true"
                        style="width: 45%"></a>
            </div>
        </div>
    </div>
</div>
